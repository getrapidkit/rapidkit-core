[pytest]
addopts = -q --maxfail=1 -m "not slow" --import-mode=importlib
asyncio_mode = auto
pythonpath =
    .
    src
python_files = test_*.py
python_classes = Test*
python_functions = test_*
testpaths = tests user-tests
norecursedirs = boilerplates .* build dist
markers =
    # Test types
    unit: Unit tests (fast, isolated)
    integration: Integration tests (slower, test interactions)
    e2e: End-to-end tests (slowest, full user journey)
    smoke: Quick smoke tests for CI
    core_integration: Integration tests validating RapidKit core runtime modules
    template_integration: Integration tests generated for end-user module templates

    # Test characteristics
    slow: Marks tests as slow (deselect with '-m "not slow"')
    flaky: Tests that might fail intermittently
    skip_ci: Skip in CI environment

    # Feature flags
    enterprise: Enterprise-only features
    pro: Pro-only features
    experimental: Experimental/unstable features

    # Test data
    with_db: Tests that require database
    with_files: Tests that create/modify files
    with_network: Tests that make network calls
