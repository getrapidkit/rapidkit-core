# Register snippet bundles for Cors
snippets:
  - name: "cors-middleware-setup"
    description: "Basic CORS middleware setup for FastAPI"
    template: "templates/snippets/cors.snippet.j2"
    context:
      allow_origins: ["http://localhost:3000", "http://localhost:8080"]
      allow_credentials: true
      allow_methods: ["GET", "POST", "PUT", "DELETE"]
      allow_headers: ["*"]

  - name: "strict-cors"
    description: "Strict CORS configuration for production"
    template: "templates/snippets/cors.snippet.j2"
    context:
      allow_origins: ["https://yourdomain.com"]
      allow_credentials: true
      allow_methods: ["GET", "POST", "PUT", "DELETE"]
      allow_headers: ["Content-Type", "Authorization"]

  - id: cors_nestjs_module_registry
    target: src/modules/index.ts
    anchor: "// <<<inject:module-exports>>>"
    template: cors.nestjs.module_registry.snippet.j2
    features: [cors]
    profiles: [nestjs/standard]
    description: Register CorsModule in NestJS optional module registry
    version: "1.0.0"
    priority: 30
    dependencies: []
    schema:
      type: object
      properties: {}
      additionalProperties: true
      required: []
    metadata:
      author: "RapidKit Team"
      created_at: "2026-02-15"
      last_modified: "2026-02-15"
    conflict_resolution: merge
